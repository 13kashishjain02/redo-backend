{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Redopact | My Address</title>

    <link rel="stylesheet" href="{% static 'general/css/bootstrap.css'%}">

    <!-- Our project just needs Font Awesome Free's Solid + Brand files -->
    <link href="{% static 'fontawesomefree/css/fontawesome.css' %}" rel="stylesheet" type="text/css">
    <link href="{% static 'fontawesomefree/css/brands.css' %}" rel="stylesheet" type="text/css">
    <link href="{% static 'fontawesomefree/css/solid.css' %}" rel="stylesheet" type="text/css">

</head>
<body>
    
    {%include 'general/Navbar.html' %}


    <div class="edit container mt-5">
        <div class="row">
            <div class="col-sm-12 col-md-12 col-lg-3 py-5">

                <ol class="breadcrumb">
                    <li class="breadcrumb-item"><a href="/">Home</a></li>
                    <li class="breadcrumb-item active">Addressess</li>
                  </ol>

                <div class="list-group">
                    <a style="font-size: 14px;" href="/account" class="list-group-item list-group-item-action"><i class="fa-solid fa-user px-1"></i> My Profile</a>
                    <a style="font-size: 14px;" href="/account/edit" class="list-group-item list-group-item-action"><i class="fa-solid fa-pen-to-square px-1"></i> Edit Profile</a>
                    <a style="font-size: 14px;" href="/account/address" class="list-group-item list-group-item-action bg-primary text-white"><i class="fa-solid fa-location-arrow px-1"></i> My Addressess</a>
                    <a style="font-size: 14px;" href="/account/orders" class="list-group-item list-group-item-action"><i class="fa-solid fa-basket-shopping px-1"></i> My Orders</a>
                    <a style="font-size: 14px;" href="/logout" class="list-group-item list-group-item-action"><i class="fa-solid fa-right-from-bracket px-1"></i> Logout</a>
                  </div>

            </div>


            <div class="col-sm-12 col-md-12 col-lg-9 p-5">
                
                <h3 class="text-center text-primary">My ADDRESSESS</h3> <br> <br>
               
                {% if messages %}

                {% for message in messages %}
                <div class="alert alert-dismissible alert-{{message.tags}}" style="width: 40%;border-radius: 4px;">
                    <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                <b> {{message}}</b>
                </div>
                {%endfor%}

                {%endif%}
                <button class="btn btn-outline-primary px-5" data-bs-toggle="modal" data-bs-target="#add-new-address"><i class="fa-solid fa-plus"></i> ADD NEW ADDRESS</button> <br> <br>

                {% for address in addressess  %}
                
                <div class="container px-5 py-3 mb-5 border">
                        <h5>{{user.name}}</h5> <br>
                        <span>{{address.address}}</span><br>
                        <span>{{address.town}}</span><br>
                        <span>{{address.city}} = {{address.pincode}}</span><br>
                        <span>{{address.state}}</span> <br> <br>
                        <h6>Mobile : {{user.contact_number}}</h6>

                        <div class="border-top py-3 d-flex mt-5">
                            <button class="btn bg-primary px-5 py-2 text-white" style="border: 2px solid #1A4953;" data-bs-toggle="modal" data-bs-target="#address{{address.id}}"><i class="fa-solid fa-pen-to-square"></i> Edit</button>
                            <form method="post">{%csrf_token%}
                                <input type="text" hidden name="id" value="{{address.id}}">
                                <button class="btn btn-outline-danger px-5 py-2 mx-3" name="remove-address"><i class="fa-solid fa-trash-can"></i> Remove</button>
                            </form>
                        </div>
                </div>


                <div class="modal" id="address{{address.id}}" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="address{{address.id}}Label" aria-hidden="true">
                    <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable" role="document">
                      <div class="modal-content">
                            <form method="POST"> {% csrf_token %}
                        <div class="modal-header py-3 px-2" style="background-color:#F5F5F6;">
                            <h5 class="modal-title"> Edit Address</h5>
                           </div> 
                        <div class="modal-body mt-3">
                            <div class="row">
                                <div class="col">
                                    <div class="form-floating mb-3">
                                        <input disabled style="border: 2px solid #1A4953;font-size: 14px;" type="text" class="bg-white form-control text-primary" value="{{user.name}}" id="floatingInput" placeholder="Name">
                                        <label for="floatingInput">Name</label>
                                      </div>
                                </div>
                                <div class="col">
                                    <div class="form-floating mb-3">
                                        <input disabled style="border: 2px solid #1A4953;font-size: 14px;" type="email" class="bg-white form-control text-primary" value="{{user.contact_number}}" id="floatingInput" placeholder="Mobile">
                                        <label for="floatingInput">Mobile*</label>
                                      </div>
                                </div>
                              </div> <hr>

                              <input type="text" name="id" hidden value="{{address.id}}">

                                <div class="row">
                                    <div class="col">
                                        <div class="form-floating mb-3">
                                            <input name="pincode" style="border: 2px solid #1A4953;font-size: 14px;" type="text" class="bg-white form-control text-primary" value="{{address.pincode}}" id="floatingInput" required placeholder="Pincode">
                                            <label for="floatingInput">Pincode*</label>
                                          </div>
                                    </div>
                                    <div class="col">
                                        <div class="form-floating mb-3">
                                            <input name="state" style="border: 2px solid #1A4953;font-size: 14px;" type="text" class="bg-white form-control text-primary" value="{{address.state}}" id="floatingInput" required placeholder="State">
                                            <label for="floatingInput">State*</label>
                                          </div>
                                    </div>
                                  </div>

                                  <div class="form-floating mb-3">
                                    <input name="address" style="border: 2px solid #1A4953;font-size: 14px;" type="text" class="bg-white form-control text-primary" value="{{address.address}}" id="floatingInput" required placeholder="Address (House no, Building , street)">
                                    <label for="floatingInput">Address (House no, Building , street)*</label>
                                  </div>

                                  <div class="form-floating mb-3">
                                    <input name="town" style="border: 2px solid #1A4953;font-size: 14px;" type="text" class="bg-white form-control text-primary" value="{{address.town}}" id="floatingInput" required placeholder="Locality/Town">
                                    <label for="floatingInput">Locality/Town</label>
                                  </div>

                                  <div class="form-floating mb-3">
                                    <input name="city"  style="border: 2px solid #1A4953;font-size: 14px;" type="text" class="bg-white form-control text-primary" value="{{address.city}}" id="floatingInput" required placeholder="City/District">
                                    <label for="floatingInput">City/District</label>
                                  </div>

                            

                            
                        </div>
                        <div class="modal-footer">
                            <button class="btn bg-primary px-5 py-2 text-white" name="edit-address" style="border: 2px solid #1A4953;" data-bs-toggle="modal" data-bs-target="#address{{address.id}}"><i class="fa-solid fa-floppy-disk"></i> Save</button>
                            <button class="btn btn-outline-danger px-5 py-2" data-bs-dismiss="modal"><i class="fa-solid fa-xmark"></i> Cancel</button>
                        </div>
                        </form>
                      </div>
                    </div>
                  </div>
                
                {% endfor %}
                
                
                    

                
            </div>





        </div>
    </div>





    <!-- add new address -->


    <div class="modal" id="add-new-address" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="add-new-addressLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable" role="document">
          <div class="modal-content">
                <form method="POST"> {% csrf_token %}
            <div class="modal-header py-3 px-2" style="background-color:#F5F5F6;">
                <h5 class="modal-title"> Add New Address</h5>
               </div> 
            <div class="modal-body mt-3">
                <div class="row">
                    <div class="col">
                        <div class="form-floating mb-3">
                            <input disabled style="border: 2px solid #1A4953;font-size: 14px;" type="text" value="{{user.name}}" class="bg-white form-control text-primary" id="floatingInput" placeholder="Name">
                            <label for="floatingInput">Name</label>
                          </div>
                    </div>
                    <div class="col">
                        <div class="form-floating mb-3">
                            <input disabled style="border: 2px solid #1A4953;font-size: 14px;" type="email" value="{{user.contact_number}}" class="bg-white form-control text-primary" id="floatingInput" placeholder="Mobile">
                            <label for="floatingInput">Mobile*</label>
                          </div>
                    </div>
                  </div> <hr>

                  <input type="text" name="id" hidden value="{{address.id}}">

                    <div class="row">
                        <div class="col">
                            <div class="form-floating mb-3">
                                <input name="pincode" style="border: 2px solid #1A4953;font-size: 14px;" type="text" class="bg-white form-control text-primary" id="floatingInput" required placeholder="Pincode">
                                <label for="floatingInput">Pincode*</label>
                              </div>
                        </div>
                        <div class="col">
                            <div class="form-floating mb-3">
                                <input name="state" style="border: 2px solid #1A4953;font-size: 14px;" type="text" class="bg-white form-control text-primary" id="floatingInput" required placeholder="State">
                                <label for="floatingInput">State*</label>
                              </div>
                        </div>
                      </div>

                      <div class="form-floating mb-3">
                        <input name="address" style="border: 2px solid #1A4953;font-size: 14px;" type="text" class="bg-white form-control text-primary" id="floatingInput" required placeholder="Address (House no, Building , street)">
                        <label for="floatingInput">Address (House no, Building , street)*</label>
                      </div>

                      <div class="form-floating mb-3">
                        <input name="town" style="border: 2px solid #1A4953;font-size: 14px;" type="text" class="bg-white form-control text-primary" id="floatingInput" required placeholder="Locality/Town">
                        <label for="floatingInput">Locality/Town</label>
                      </div>

                      <div class="form-floating mb-3">
                        <input name="city"  style="border: 2px solid #1A4953;font-size: 14px;" type="text" class="bg-white form-control text-primary" id="floatingInput" required placeholder="City/District">
                        <label for="floatingInput">City/District</label>
                      </div>

                

                
            </div>
            <div class="modal-footer">
                <button class="btn bg-primary px-5 py-2 text-white" name="add-address" style="border: 2px solid #1A4953;"><i class="fa-solid fa-floppy-disk"></i> Save</button>
                <button class="btn btn-outline-danger px-5 py-2" data-bs-dismiss="modal"><i class="fa-solid fa-xmark"></i> Cancel</button>
            </div>
            </form>
          </div>
        </div>
      </div>






<!-- JavaScript Bundle with Popper -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>





</body>
</html>